<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Venom.com</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!--Link to CSS-->
        <link rel="stylesheet" href="./assets/css/style.css">
        <link rel="icon" href="./assets/images/logo.png" type="image/x-icon">

        <script src="./assets/main.js"></script>
    </head>

    <body>
        <!--Header-->

        <!--Home-->
        <section class="home" id="home">
            <div class="home-text container">
                <h2 class="home-title">The Venom Blog</h2>
                <span class="home-subtitle">Your source of great content</span>
            </div>
        </section>
        <!--Post Filter-->
        <div class="post-filter container">
            <span class="filter-item active-filter" data-filter="all">All</span>
            <span class="filter-item" data-filter="design">Design</span>
            <span class="filter-item" data-filter="tech">Tech</span>
            <span class="filter-item" data-filter="mobile">Mobile</span>
        </div>
        <!--Posts-->
        <section class="post container">
            <!--Post Box 1-->

        </section>
        <div class="icons">
            <a href="#">
                <i class="fa fa-facebook" style="color: #000;"></i>
            </a>
            <a href="#">
                <i class="fa fa-instagram" style="color: #000;"></i>
            </a>
            <a href="#">
                <i class="fa fa-twitter" style="color: #000;"></i>
            </a>
            <a href="#">
                <i class="fa fa-github" style="color: #000;"></i>
            </a>
            <p>Â© 2023 Venom.com All rights reserved</p>
        </div>
        <script>
        let div_box;
        let img_card;
        let h2_txt;
        let a_tag;
        let span_txt;
        let p_card_text;
        let div_profile;
        let a_link;
        let profile_img;
        let span_txt2;

        const blog_data = JSON.parse(localStorage.getItem("blog_records"));
        // const shorterLength = blog_data.length < user_data.length ? blog_data.length : user_data.length;

        for (let i = 0; i < blog_data.length; i++) {
          //  <div class="col"> </div>
          div_box = document.createElement("div");
          div_box.setAttribute("class", "post-box design");
          console.log(div_box);

          //  <div class="card"> </div>
          img_card = document.createElement("img");
          img_card.setAttribute("src", blog_data[i].image.source);
          img_card.setAttribute("alt", blog_data[i].image.alt);
          img_card.setAttribute("class", "post-img");
          div_box.append(img_card);

          //  <img src="" class="card-img-top" alt=""/>
          h2_txt = document.createElement("h2");
          h2_txt.setAttribute("class", "category");
          h2_txt.innerText = blog_data[i].category;
          div_box.append(h2_txt);

          //  <div class="card-body"> </div>
          a_tag = document.createElement("a");
          a_tag.setAttribute("class", "post-title");
          a_tag.setAttribute(
    "href",
    `../posts/8-1_post.html?post_ID=${blog_data[i].post_id}`
          );
  a_tag.innerText = blog_data[i].title;
          div_box.append(a_tag);

  //  <span class="post-date"> </span>
          span_txt = document.createElement("span");
          span_txt.setAttribute("class", "post-date");
          span_txt.innerHTML = blog_data[i].timestamp;
          div_box.append(span_txt);

          //  <p class="card-text"> </p>
          p_card_text = document.createElement("p");
          p_card_text.setAttribute("class", "post-description");
          p_card_text.innerHTML = blog_data[i].content;
          div_box.append(p_card_text);

          div_profile = document.createElement("div");
          div_profile.setAttribute("class", "profile");
          div_box.append(div_profile);

          a_tag2 = document.createElement("a");
          a_tag2.setAttribute(
    "href",
    `../Myprofile/6_profile.html?user_ID=${blog_data[i].unique_id}`
          );
  div_profile.append(a_tag2);

          profile_img = document.createElement("img");
          profile_img.setAttribute("src", blog_data[i].profile.source);
          profile_img.setAttribute("alt", blog_data[i].profile.alt);
          profile_img.setAttribute("class", "profile-img");
          a_tag2.append(profile_img);

          span_txt2 = document.createElement("span");
          span_txt2.setAttribute("class", "profile-name");
          span_txt2.innerText = blog_data[i].name;
          div_profile.append(span_txt2);

          document.querySelector("section.post.container").prepend(div_box);
        }
    </script>

        <script src="/assets/header.js"></script>
    <!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>
</body>

</html>