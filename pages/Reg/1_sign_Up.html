<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SignUp-Venom.com</title>
        <link rel="stylesheet" href="../../assets/css/1_sign-in.css">
        <link rel="icon" href="../../assets/images/logo.png" type="image/x-icon">
        <script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script>
        <script src="https://smtpjs.com/v3/smtp.js"></script>
    </head>

    <body>
        <div class="form">
            <h1>Register</h1>
            <form id="signUp_form" class="form_list">
                <input type="text" placeholder="Name" id="name_1">
                <!-- pattern="[A-Za-z]+" required -->
                <input type="email" placeholder="Email" id="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required>
                <input type="password" placeholder="Password (Njcat#10van)" id="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*?[0-9])(?=.*?[!@#$%^&*+`~=?\|<>/]).{8,}" required>
                <input type="password" placeholder="Confirm Password" id="password2" required>
                <label>
                    <input type="checkbox" onclick="showPassword()"> Show Password
                </label>
                <button class="enter_btn" type="submit">Create Account</button>
            </form>          

            <p class="login">Or</p>
            <p>
                <a href="2_login.html">Already have an Account ? Login</a>
            </p>

        </div>
        <script>
        function showPassword() {
          const passwordField = document.getElementById("password");
          const confirmPassword = document.getElementById("password2");
          const showPasswordCheck = document.querySelector('input[type="checkbox"]');
          if (showPasswordCheck.checked) {
            passwordField.type = "text";
            confirmPassword.type = "text";
          } else {
            passwordField.type = "password";
            confirmPassword.type = "password";
          }
        }

        const form = document.getElementById("signUp_form");

        form.addEventListener("submit", function (e) {
          e.preventDefault();
          const user_name = document.getElementById("name_1").value;
          const user_email = document.getElementById("email").value;
          const user_password = document.getElementById("password").value;
          const user_password2 = document.getElementById("password2").value;
          const uuid = uuidv4();
          const user_date = "";
          const user_job = "";
          const user_tag = "";
          const user_bio = "";
          const user_profile = "";
          const user_banner = "";
          // let users = new Array();
          // let user_records = JSON.parse(localStorage.getItem("users"))
          // user_records = JSON.parse(localStorage.getItem("users")) ? JSON.parse(localStorage.getItem("users")) : []
          let user_records;
          if (JSON.parse(localStorage.getItem("user_records"))) {
            user_records = JSON.parse(localStorage.getItem("user_records"));
          } else {
            user_records = new Array();
          }
          if (
    user_records.some((v) => {
      return v.user_email === user_email;
    })
          ) {
    alert("Already exists user ❌");
          } else if (
    name_1.value.length === 0 &&
    email.value.length === 0 &&
    password.value.length === 0 &&
    password2.value.length === 0
  ) {
            alert("Please fill Details");
          } else if (name_1.value.length === 0) {
            alert("Please enter your Name");
          } else if (email.value.length === 0) {
            alert("Please enter your email");
          } else if (password.value.length < 8) {
            alert("Please enter password attleast 8 characters");
          } else if (password2.value != password.value) {
            alert("Confrim password missmatch ❌");
          } else {
            user_records.push({
              user_name,
              user_email,
              user_password,
              user_password2,
              unique_ID: uuid,
              user_date: "",
              user_job: "",
              user_tag: "",
              user_bio: "",
              user_profile: "",
              user_banner: "",
            });
            localStorage.setItem("user_records", JSON.stringify(user_records));
            alert("Your Have been Created ✅");
            window.location.href = "./2_login.html";
          }
        });
    </script>
    </body>

</html>